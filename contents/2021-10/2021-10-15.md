---
title: 'スクロールしたら追加でロードするみたいな実装'
date: '2021-10-14'
tags: ['JavaScript']
---

## スクロールしたら追加でロードするみたいな実装

アクセスして表示したらコンテンツの一部(limit と offset の limit のぶん)が表示され、スクロールして下端までたどり着いたら追加でロードしてまた limit のぶん表示して、を繰り返す、無限スクロールによるローディングみたいなやつを実装した。

難しい。

考えることがいっぱいあって、ローディングだけならまだしもコンテンツの追加とか削除とか編集をしたときにどう画面をリフレッシュするかみたいなことも考える必要がある。

ひとまず`scrollTop`、`scrollHeight`、`offsetHeight`、`offsetWidth`のようなプロパティを学ぶことができた。

初期表示時の時点でスクロール可能ということで`scrollHeight`は`offsetHeight`よりも大きくなっていて、スクロールして追加ロードして DOM が更新されたら`scrollHeight`はさらに大きくなる。

追加でロードしたときに`scrollTop`をどこに持っていくかみたいな計算をする必要があったりして、勉強になった。
