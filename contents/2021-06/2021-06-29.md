---
title: 'ちょっとずつできるようになってきたこと'
date: '2021-06-29'
tags: ['okimochi']
---

## メリットを明示することがちょっとずつできてきた気がする

コードレビューで`const date = ref(new Date() as Date)`というコードに`const date = ref<Date>(new Date())`のほうがいいよというレビューコメントを書いた。

このとき「なぜこっちのほうがいいのか」というのを説明できたのでよかった。

[Type Assertion（型アサーション） \- TypeScript Deep Dive 日本語版](https://typescript-jp.gitbook.io/deep-dive/type-system/type-assertion)

[TypeScript の as って何です？\(型アサーションについて\) \- Qiita](https://qiita.com/irico/items/9d71060e52ffc1e79962)

```
1. 最初に上記のコードを見たときに「refの型定義ってref<T>(initialValue)だよな？と思った
2. ただref(initialValue as T)でもコード上は正しく動くし、アサーションだと何が悪いんだ？と思ったので上記の記事を読んだ
3. アサーションだとコンパイラが指摘しなかったり実行時エラーが起きる可能性がある
4. アサーションが全て悪いというわけではなく適切に使えればいいが、型定義ができる場面でアサーションを使うのはエラーが起こる可能性を少しでも減らすという観点でよくないと思った
5. コメントして同意をもらえて修正してもらえた
```

たぶん何気ないことだと思うんだけど自分にとってはまだ全然できていないことで、こういうことを少しずつ積み重ねていきたいと思えることだったので、レビューするときやコードを書くときに意識して、自分が説明できるようになるようになりたい。
