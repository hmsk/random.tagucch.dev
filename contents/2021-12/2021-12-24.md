---
title: 'git mv'
date: '2021-12-24'
tags: ['git']
---

## git mv

ファイルの拡張子を変更して(.js から.ts に)一部コードを書き換えるコミットを push したのだけど、GitHub 上の diff だとコードの変更箇所だけが出てきていた。

だが、同じブランチで別のファイルを消すコミットをして push したところ、↑ のファイルが「旧ファイルの全行を削除し、新ファイルに書いてある全行を新規にコミットする」ようになってしまった。

git mv に関することっぽいらしく、僕はほとんど git mv を使っていなかったので申し訳なさを感じつつ調べた。

[Git で管理しているファイルのリネームを git mv でなく mv してしまったときにどうなるのか調べてみた \- Qiita](https://qiita.com/zonkyy/items/7705844c5e255b8fa3ae)

めちゃくちゃ曖昧だけど、1 つのファイルだけなら git mv しないで普通に mv しても git mv と同等の処理がされるっぽい。

git、まだまだ知らないことだらけなので、とりあえず git mv は覚えて今後使います。

### 凡ミス

`new Date(dayjs())`やってて型のエラー起きてた。正しくは`dayjs().toDate()`
